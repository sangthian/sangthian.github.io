---
title: Linux基本命令
date: 2020-03-14 23:18:57
categories: Linux
tags: Linux
---

## 系统操作命令

- `startx`: 启动X window界面。 - P115
- `exit`: 注销Linux，并非关机而是离开系统。同时，这个命令也是退出远程登录界面的命令，可以用于退出root用户，可以用于关闭当前终端。 - P117
- `data`: 显示日期与时间。 - P118  <!-- more -->
- `cal`: 显示日历。 - P118
- `bc`: 计算器软件。 - P120
- `man`: 求助功能。 - P122
- `info`: 求助功能。 - P128
- `who`: 用于查询当前有谁在线。 - P131
- `netstat`: 用于查询当前网络状态。 - P131  
- `ps -aux`: 用于查询当前后台执行程序情况。 - P131
- `shutdown`: 关机。 - P131
- `reboot`: 重启。 - P132
- `halt`: 关机。 - P132
- `poweroff`: 关机。 - P132
- `sync`: 数据同步写入磁盘，正常关机时关机命令会调用这条指令。 - P132
- `init`: 切换执行等级。 - P133

## 文件与目录管理

### 基础指令

- `ls`: 显示文件的文件名与相关属性(list)。常用参数：-a 显示所有文件，包括隐藏文件；-l 显示文件详细信息，包括文件属性与权限，修改时间等。 - P167
- `chgrp`: 改变文件或目录的所属用户组(change group)。常用参数：-R 进行递归的持续更改，即更改当前目录与下级所有子目录与文件的所属用户组。 - P144
- `chown`: 改变文件或目录的所有者(change owner)。常用参数：-R 进行递归的持续更改。 - P145
- `chmod`: 改变文件或目录权限。常用参数：-R 进行递归的持续更改。 -P146
- `cp`: 复制命令(copy)。常用参数：`-i`互动，当目标文件以及存在时，在覆盖前询问操作是否进行；`-r`递归持续复制，用于复制目录；`-p`连同文件的属性一起复制，而不是使用默认属性；`-u`若被复制源文件比目标文件新才会复制 - P169
- `rm`: 移除文件或目录(remove)。参数：`-r`递归删除，会删除掉整个目录（不管是否为空）；`-i`互动，会在删除前提示是否需要操作。 - P171
- `mv`: 移动文件与目录、或重命名文件(move)。参数：`-i`互动，如果目标已经存在，则询问是否需要覆盖；`-u`若目标已经存在，且比被移动源文件旧，才会覆盖。 - P172
- `cd`: 切换目录(change directory)。常用命令：`cd -` 回到刚才的目录；`cd ~`回到自己的主文件夹，同`cd`；`cd ..`回到上层路径；`cd /`回到根目录。- P163
- `pwd`: 显示目前所在的目录(print working directory)。常用参数：`-P`显示出当前路径，而非使用连接路径。 - P164
- `mkdir`: 新建新目录(make directory)。参数：`-p`创建多级目录；`-m`给予新目录权限。 - P164
- `rmdir`: 删除“空”目录(remove directory)，注意只能是空目录。 - P165

### 文件内容查阅

- `cat`: 查看一个文件的内容(concatenate)。参数：`-n`打印出行号，连同空白行也会有行号；`-b`打印出行号，空白行没有行号；`-A`可以显示出来一些特殊字符，而不是空白。 - P173
- `tac`: 反向列出一个文件的内容，从最后一行到第一行。 - P174
- `nl`: 添加行号打印。 - P174
- `more`: 翻页命令。指令：`[Space]`向下翻一页；`[Enter]`向下翻一行；`/字符串`向下查询该字符串；`q`离开more；`b`往上翻页；`n`查询过程中查询下一条。 - P175
- `less`: 翻页命令，比more人性化。指令：`[Space]`向下翻一页；`[PageDown]`向下翻动一页；`[PageUp]`向上翻动一页；`/字符串`向下查询该字符串；`?字符串`向上查询该字符串；`n`重复查询；`N`重复查询，与n相反；`q`离开less。 - P176
- `head`: 取出前边几行。参数：`-n`后边接数字，代表取出几行。 - P176
- `tail`: 取出后边几行。参数：`-n`后边接数字，代表取出最后几行。 - P177
- `od`: 读取非纯文本文件。参数：`-t`后边可以接各种类型的输出。 - P177
- `touch`: 修改文件时间或创建新文件。 -P180

### 文件默认权限与隐藏属性

- `umask`: 查看和修改系统默认文件权限。参数：`-S`将权限以符号形式显示。 - P181
- `chattr`: 设置文件的隐藏属性。 - P183
- `lsattr`: 显示文件的隐藏属性。 - P184
- `file`: 查看文件类型。 - P187

### 命令与文件的查询

- `which`: 寻找执行文件。 参数：`-a`将所有在PATH中可以找到的该命令均列出来，而不是找到的第一条。 - P187
- `whereis`: 寻找特定文件，通过数据库查询，所以速度快，但并不是所有文件都在数据库中注册，刚新建的文件可能还没有在数据库中注册，刚删除的文件也不会立即从数据库中消失。 - P188
- `locate`: 寻找特定文件，与whereis不同的是，可以输入部分文件名查找包含这部分名称的所有文件，与whereis相同，也是查询数据库。
- `updatedb`: 可以用来更新数据库。 - P189
- `find`: 寻找特定文件，该命令是在硬盘里查找所有文件，所以耗时长。参数比较多，请查阅原文。 - P189

## 磁盘与文件系统管理

### 磁盘与目录容量

- `df`: 列出文件系统的整体磁盘使用量。重要参数：`-h`以人类较易阅读的存储单位显示容量；`-i`不用硬盘容量而是用inode数量显示；`-a`列出所有文件系统；`-T`将该分区的文件系统名称一并列出。 - P210
- `du`: 评估文件系统的磁盘使用量。重要参数：`-s`仅列出总量，而不列出每个个别目录的占用容量。 - P212

### 连接文件

- `ln`: 设置连接文件。重要参数：`-s`添加该参数意味着进行symbolic link，而不添加参数意味着进行hard link。

### 磁盘的分区、格式化、检验与挂载

- `fdisk`: 程序，磁盘分区工具。重要命令：`d`删除一个分区；`n`增加一个新分区；`p`在屏幕上显示分区；`q`退出程序并不保存；`w`退出程序并保存（将之前的设置写入分区表）。 - P217
- `mkfs`: 格式化命令，它会调用正确的文件系统格式化工具软件。参数：`-t`可以接文件系统格式。 - P223
- `mke2fs`: 了解EXT2/EXT3的公用程序。 - P224
- `fsck`: 磁盘检验命令(file system check)，检查修正文件系统错误。执行该命令时，被检查的分区务必不可挂载到系统上，即需要在卸载的状态下。 - P225
- `badblocks`: 检查硬盘扇区是否有坏轨。 - P226
- `mount`: 挂载命令。 - P227
- `umount`: 卸载命令。 - P230
- `mknod`: 设置磁盘参数。 - P231
- `e2lable`: 修改磁盘卷标。 - P232
- `tune2fs`: 更新磁盘格式。 - P232
- `hdparm`: IDE硬盘参数设置。 - P233

## 文件压缩与打包

### 压缩指令

- `compress`: 比较老旧的一款压缩软件，处理`.Z`型压缩文件，现在不常用。 - P251
- `uncompress`: 对应的解压缩。 - P251
- `gzip`: 应用比较广泛，处理`.gz`型压缩文件。参数：`-c`将压缩数据输出到屏幕，也可通过数据流重定向；`-d`解压缩命令；`-v`显示压缩信息；`-#`压缩等级，#可取1到9，1最快，默认为6。 - P252
- `gunzip`: 对应的解压缩软件，与命令`gzip -d abc.gz`相同。 - P252
- `zcat`: 查看`.gz`压缩格式的文件内容，直接打开cat。 - P252
- `bzip2`: 应用比较广泛，压缩率比`gzip`高，处理`.bz` `.bz2` `.tbz` `.tbz2`型压缩文件。参数：`-c`将压缩数据输出到屏幕，也可通过数据流重定向；`-d`解压缩命令；`-k`保留源文件而不会删除源文件；`-v`显示压缩信息；`-#`压缩等级，#可取1到9，同上。 - P253
- `bunzip2`: 对应的解压缩软件，与命令`bzip2 -d abc.bz2`相同。 - P253
- `bzcat`: 查看`.bz2`等压缩格式的文件内容，直接打开cat。 - P253

### 打包指令

- `tar`: 打包命令，将多个文件打包成一个文件后压缩，参数比较多，请参见原文。常见指令：`tar -jcv -f abc.tar.bz2 abc/`压缩abc目录到abc.tar.bz2；`tar -jtv -f abc.tar.bz2`查看该压缩打包文件中有哪些文件名；`tar -jxv -f abc.tar.gz2 -C abc/`将abc.tar.gz2解压到目录abc/中。 - P254

### 备份指令

- `dump`: 备份文件系统。参数：`-u`将该次备份时间记录到/etc/dumpdateS文件中；`-v`显示详细信息；`-j`加入bzip2支持，将备份数据压缩，默认等级为2；`-level`等级。 - P260
- `restore`: 对应的恢复指令。参数：`-t`查看备份文件数据；`-C`比较备份数据与实际文件；`-i`互动模式。 - P262

### 光盘写入工具

- `mkisofs`: 将文件制作成iso格式镜像文件。 - P265
- `cdrecord`: 光盘刻录工具，可以刻录到光盘。 - P267

### 其他压缩与备份工具

- `dd`: 读取磁盘设备内容并备份，备份整块分区或磁盘，参数比较多，请参见原文。 - P269
- `cpio`: 可以备份任何东西，但需要配合find来找到文件名，详细使用情况见原文。 - P270

## 文本编辑

- `LANG=zh_CN.big5`: 修正终端语系为big5编码。另外还有gb2312、tfg8编码。 - P290
- `dos2UNIX`: 格式转换命令，将DOS格式的文件转换为UNIX格式文件。参数：`-k`保留该文件原本的mtime时间格式；`-n`保留原格式的文件，将转换的文件输出到新内容，需要加新文件名。 - P290
- `UNIX2dos`: 格式转换命令，将UNIX格式的文件转换为DOS格式文件。参数同`dos2UNIX`。 - P290
- `iconv`: 格式转换指令，可以选择转换成支持的任何格式。参数：`--list`列出所有支持的格式；`-f`后接源文件的编码格式；`-t`后接新的要转换的编码格式；`-o`如果需要保留源文件，用该参数后接新文件名，可以新建编码文件。 - P291

## 认识与学习bash

### bash内置命令

- `type [-tpa] name`: 可以查看某个命令是外部命令还是内部命令。参数：`-t`显示命令的意义。 - P298

### shell的变量功能

- `echo $variable`: 可以查看变量内容，对于该变量的使用特别灵活，请逐步摸索。 - P300 -P313
- `unset name`: 取消刚才设置的name变量。 - P303
- `env`: 列出所有环境变量与常见环境变量说明。 - P304
- `set`: 查看所有变量，包括环境变量与自定义变量。 - P305
- `export variable`:　将variable自定义变量变成环境变量，另外，如果不接任何变量使用export，则会把所有环境变量显示出来。 - P308
- `locale [-a]`: 查看语系变量。参数`-a`显示所有语系变量。 - P308
- `read [-pt] variable`: 读取来自键盘输入的变量。参数：`-p`在输入光标前显示可以设置的提示内容，提示内容接到参数后边；`-t`设置读取等待时间，单位秒，等待时间之后跳过该次读取。 - P310
- `declare [-aixr] variable`: 声明变量的类型，如果不接任何参数，则显示所有变量名称和内容。参数：`-a`将后面名为variable的变量定义为数组类型，默认变量是字符串类型；`-i`定义为整数数字类型；`-x`将variable变成环境变量，同export；`-r`将变量设置为readonly类型，该变量不可更改内容，也不能重设。 - P311
- `ulimit [-SHacdfltu] [配额]`: 用于限定用户可使用的系统资源。变量过多，请查阅原文。 - P316

### 命令别名与历史命令

- `alias 命令别名=命令序列`: 可以用命令别名取代比较长的命令序列串。 - P317
- `unalias 命令别名`: 取消命令别名。 - P318
- `history [n/-c/-raw histfiles]`: 历史命令。参数：`n`列出最近几行命令；`-c`将当前shell中的所有历史命令列出；`-a`将新增的命令加入到histfiles文件中，若没有histfiles，则默认写入到/.bash_history；`-r`将histfiles的内容读入当前这个shell的history记忆中；`-w`将当前history的记忆写入到histfiles中。 - P318

### bash shell操作环境

- `source 配置文件名`: 可以将配置文件的内容读入到目前的shell环境中，而不需要在更改了shell之后重新注销再登录。 - P324
- `stty [-a]`: 查看终端机输入按键代表的意义。参数：`-a`将目前所有的stty参数列出来。 - P325
- `set [-vcCHhmBx]`: 设置一些变量，配置输入输出环境等。参数比较多，请查阅原文。 - P326

### 数据流重定向

- `cmd1 ; cmd2`: 通过`;`来连接两个命令，代表不需要考虑命令相关性的连续命令执行。 - P332
- `cmd1 && cmd2`: 通过`&&`来连接两个命令，代表考虑相关性，并且cmd1正确执行则cmd2才执行，cmd1错误则不执行cmd2。 - P332
- `cmd1 || cmd2`: 通过`||`来连接两个命令，代表考虑相关性，并且cmd1正确执行则cmd2不执行，cmd1错误则cmd2执行。 - P332

### 管道命令（pipe)

- `cmd1 | cmd2`: 通过`|`来实现管道命令，需要注意的是，每个管道后面接的第一个数据必须是命令，而且这个命令必须是能够接收stdin的数据才行，管道对stderr没有直接处理的能力。 - P334
- `cut -d '分隔字符' -f fields`或`cut -c 字符范围`: 用于使用`分隔字符`来分隔文段字符；后者用于排列整齐的信息。 - P335
- `grep [-acinv] [--color=auto] '查找字符串' filename`: 分析一行信息，若当中有我们所需要的信息，就将该行拿出来。参数：`-a`将binary文件以text文件的方式查找数据；`-c`计算找到'查找字符串'的次数；`-i`忽略大小写的不同；`-n`顺便输出行号；`-v`反向选择，显示不包括'查找字符串'内容的那一行；`--color=auto`将找到行的关键词加颜色显示。 - P336
- `sort [-fbMnrtuk] [file or stdin]`: 用于排序，可以依据不同的数据类型排序。参数比较多，请查阅原文。 - P336
- `uniq [-ic]`: 将排序后重复的数据仅列出一个显示。参数：`-i`忽略大小写字符；`-c`进行计数。 -P337
- `wc [-lwm]`: 计算输出的信息的整体数据量。参数：`-l`仅列出列数；`-w`仅列出字数；`-m`列出多少字符。 - P337
- `tee [-a] file`: 双向重定向。参数：`-a`以累加的方式，将数据加入到file文件中。就是同时写入到文件也可以打印到屏幕。 -P338
- `tr [-ds] set1 ...`: 可以用来删除一段信息中的文字，或进行文字信息的替换。参数：`-d`删除信息中的set1等字符串；`-s`替换掉重复的字符串。 - P338
- `col [-xb]`: 具有和tr类似的功能，此外，col经常被用来利用于将man page转存成纯文本格式文件以方便查阅。参数：`-x`将TAB键换成对等的空格键；`-b`将文字内有反斜杠/时，仅保留反斜杠最后接的那个字符。 - P339
- `join [-ti12] file1 file2`: 主要用于将两个文件当中有相同数据的那一行加起来。参数不聊，请查阅原文。 - P340
- `paste [-d] file1 file2`: join必须要对比两个文件的相关性，但是paste就是直接将两行贴在一起，且中间用TAB键隔开。参数：`-d`后面接分隔字符，默认以TAB键隔开。 - P341
- `expand [-t] file`: 就是将TAB键转成空格键。参数：`-t`后面接数字，设定一个TAB替换成几个空格。 - P431
- `split [-bl] file PREFIX`: 可以将一个大文件依据文件大小或行数来切割成小文件。参数：`-b`后面可以接切割成的文件大小，可加单位；`-l`以行数来切割。 - P342
- `xargs [-0epn] command`: 产生某个命令的参数。参数不聊，请查阅原文。 - P342

## 程序管理和SELinux初探

### 工作管理

- `jobs` ：查看目前的后台工作状态。参数：`-l` 同时列出PID号码；`-r` 仅列出正在后台的工作；`-s` 仅列出在后台中暂停的工作。-p513
- `fg %jobnum` ：将后台工作拿到前台来处理。参数：`jobnum` 工作号码，一个数字。-p513
- `bg %jobnum` ：让工作在后台的状态变成前台运行。-p513

### 进程管理

- `ps`：报告当前系统的进程状态，选项多得离谱。常用参数：`-l` 列出仅和当前bash相关的进程；`aux` 列出目前所有在内存中的进程。-p516
- `top` ：动态查看进程变化。参数：`-d` 后面接数字，表示刷新时间，按秒来计算。-p518
- `pstree` ：查看进程相关性。参数：`-A` 进程树以ASCII字符连接；`-p` 同时列出每个进程的PID；`-u` 同时列出每个进程所属的账号名称。-p520
- `kill [-signal] PID` ：给进程一个命令，管理进程。参数：`-9` 强制关闭；`-1` 重启进程；`-2` 中断进程（ctrl-c）；`-i` 交互，操作前会有提示。-p522
- `free` ：查看内存使用情况。参数：`-b|-k|-m|-g` 存储单位，从Bite到GB。-p525
- `uname` ：查看系统和内核相关信息。参数：`-a` 所有系统相关信息都会列出。-p526
- `upname` 查看系统启动时间和工作负载。-p526
- `netstat` ：跟踪网络，列出系统网络连接状态。参数：`-a` 将系统中所有连接显示出来。-p527
- `dmesg` ：分析内核产生的信息。-p528
- `vmstat [delay] [num] ` ：检测系统资源变化。参数：`-a` 列出cpu和内存等信息；`delay` 延迟刷新时间；`num` 总计检测次数。-p528